<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
        <title>Difficulty Chart</title>
        <link rel="stylesheet" href="style.css" type="text/css">
        <script src="https://blockxplorer.info/amcharts/amcharts.js" type="text/javascript"></script>
        <script src="https://blockxplorer.info/amcharts/serial.js" type="text/javascript"></script>

        <script type="text/javascript" src="/db2.js"></script>
        <script type="text/javascript" src="/db.js"></script>
        <script>

            AmCharts.ready(function () {
                // SERIAL CHART
                var chart1 = new AmCharts.AmSerialChart();
                chart1.dataProvider = chartData;
                chart1.categoryField = "block";
                chart1.startDuration = 1;

                var categoryAxis1 = chart1.categoryAxis;
                categoryAxis1.labelRotation = 90;
                categoryAxis1.gridPosition = "start";

                chart1.addTitle("Difficulty Chart - Last 12H", 10);

                graph1 = new AmCharts.AmGraph();
                graph1.type = "smoothedLine"; // this line makes the graph smoothed line.
                graph1.lineColor = "#CE2A8B";
                graph1.negativeLineColor = "#637bb6"; // this line makes the graph to change color when it drops below 0
                graph1.bullet = "";
                graph1.bulletSize = 8;
                graph1.bulletBorderColor = "#FFFFFF";
                graph1.bulletBorderAlpha = 1;
                graph1.bulletBorderThickness = 2;
                graph1.lineThickness = 2;
                graph1.valueField = "pow";
                graph1.balloonText = "Block : [[category]]<br><b><span style='font-size:14px;'>Diff : [[pow]]</span></b>";
                chart1.addGraph(graph1);

                var chartCursor1 = new AmCharts.ChartCursor();
                chartCursor1.cursorAlpha = 0;
                chartCursor1.zoomable = true;
                chartCursor1.categoryBalloonEnabled = false;
                chart1.addChartCursor(chartCursor1);

                chart1.write("chartdiv1");

                // SERIAL CHART
                var chart2 = new AmCharts.AmSerialChart();
                chart2.dataProvider = chartData2;
                chart2.categoryField = "block";
                chart2.startDuration = 1;

                var categoryAxis2 = chart2.categoryAxis;
                categoryAxis2.labelRotation = 90;
                categoryAxis2.gridPosition = "start";

                chart2.addTitle("Hourly Average - Block Found", 10);

                graph2 = new AmCharts.AmGraph();
                graph2.type = "column"; // this line makes the graph smoothed line.
                graph2.lineColor = "#CE2A8B";
                graph2.negativeLineColor = "#637bb6"; // this line makes the graph to change color when it drops below 0
                graph2.bullet = "";
                graph2.bulletSize = 8;
                graph2.bulletBorderColor = "#FFFFFF";
                graph2.bulletBorderAlpha = 1;
                graph2.bulletBorderThickness = 2;
                graph2.lineThickness = 2;
                graph2.valueField = "count";
                graph2.balloonText = "Last : [[category]]<br><b><span style='font-size:14px;'>BlockFound : [[count]]</span></b>";
                chart2.addGraph(graph2);

                var chartCursor2 = new AmCharts.ChartCursor();
                chartCursor2.cursorAlpha = 0;
                chartCursor2.zoomable = true;
                chartCursor2.categoryBalloonEnabled = false;
                chart2.addChartCursor(chartCursor2);

                chart2.write("chartdiv2");

            });
        </script>
    </head>

    <body>
        <div id="chartdiv2" style="height: 200px;"></div>
        <div id="chartdiv1" style="height: 200px;"></div>
    </body>

</html>

